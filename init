#!/usr/bin/env php
<?php

use ZnCore\Base\Libs\Init\Libs\Init;
use Symfony\Component\Console\Input\ArgvInput;
use Symfony\Component\Console\Output\ConsoleOutput;

require __DIR__ . '/vendor/autoload.php';

$config = require __DIR__ . '/environments/index.php';
$taskList = [
    'copyFiles' => 'ZnCore\Base\Libs\Init\Tasks\CopyFilesTask',
    'setCookieValidationKey' => 'ZnCore\Base\Libs\Init\Tasks\GenerateCookieValidationKeyTask',
    'setWritable' => 'ZnCore\Base\Libs\Init\Tasks\SetWritableTask',
    'setExecutable' => 'ZnCore\Base\Libs\Init\Tasks\SetExecutableTask',
    'createSymlink' => 'ZnCore\Base\Libs\Init\Tasks\CreateSymlinkTask',
];
$input = new ArgvInput;
$output = new ConsoleOutput;
$initLib = new Init($input, $output, $config, $taskList);
$initLib->run();
